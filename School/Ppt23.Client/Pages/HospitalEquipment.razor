@page "/hospital-equipment"
@using Ppt23.Client.ViewModels
@using Ppt23.Client.Components

<h2 class="text-3xl font-bold mb-4">Hospital Equipment</h2>

<div class="container mx-auto bg-neutral-200 p-4 px-4 py-4 max-w-6xl">
    <div class="text-lg font-semibold mb-2">Number of Equipment: @listEquipment?.Count</div>
    <button class="bg-teal-700 hover:bg-teal-500 text-white font-bold py-2 px-4 rounded mb-3" @onclick="CreateRandomEquipmentList">New List</button>
    <div class=" bg-green-200 grid grid-cols-5 gap-2 py-1 px-2 max-w-8xl">
        <div class="font-bold text-sm ml-2">Name</div>
        <div class="font-bold text-sm text-center">Bought Date</div>
        <div class="font-bold text-sm text-center">Last Revision Date</div>
        <div class="font-bold text-sm text-center">Revision Needed</div>
        <div></div>
    </div>

@foreach (var equipment in listEquipment)
{

        <EquipmentRow Equi="@equipment" OnDelete="() => listEquipment.Remove(equipment)" OnPerformRevision="() => equipment.LastRevisionDate = DateTime.Today" />
}


</div>

@code {
    List<EquipmentVm> listEquipment;

    public HospitalEquipment()
    {
        CreateRandomEquipmentList();
    }

    private void CreateRandomEquipmentList()
    {
        listEquipment = EquipmentVm.RtnRndList();
    }

}